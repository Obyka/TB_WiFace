{% extends "base.html" %}
{% set active_page = "statistics" %}
{% block custom_css %}<link rel="stylesheet" href="{{ url_for('web_bp.static', filename='css/custom.css')}}">{% endblock %}

{% block title %}Statistics{% endblock %}

{% block header %}Statistics{% endblock %}

{% block content %}
<div class="w3-row-padding w3-margin-bottom">
  <div class="w3-quarter">
    <div class="w3-container w3-red w3-padding-16">
      <div class="w3-left"><em class="fa fa-paper-plane w3-xxxlarge"></em></div>
      <div class="w3-right">
        <h3>{{probe_count}}</h3>
      </div>
      <div class="w3-clear"></div>
      <h4>Number of probe requests</h4>
    </div>
  </div>
  <div class="w3-quarter">
    <div class="w3-container w3-blue w3-padding-16">
      <div class="w3-left"><em class="fa fa-mobile w3-xxxlarge"></em></div>
      <div class="w3-right">
        <h3>{{mac_count}}</h3>
      </div>
      <div class="w3-clear"></div>
      <h4>Number of MAC address</h4>
    </div>
  </div>
  <div class="w3-quarter">
    <div class="w3-container w3-teal w3-padding-16">
      <div class="w3-left"><em class="fa fa-id-card-o w3-xxxlarge"></em></div>
      <div class="w3-right">
        <h3>{{id_count}}</h3>
      </div>
      <div class="w3-clear"></div>
      <h4>Number of identities</h4>
    </div>
  </div>
  <div class="w3-quarter">
    <div class="w3-container w3-orange w3-text-white w3-padding-16">
      <div class="w3-left"><em class="fa fa-picture-o w3-xxxlarge"></em></div>
      <div class="w3-right">
        <h3>{{pic_cout}}</h3>
      </div>
      <div class="w3-clear"></div>
      <h4>Number of pictures</h4>
    </div>
  </div>
</div>

<div class="w3-panel">
  <div class="w3-row-padding" style="margin:0 -16px">
    <div class="w3">
      <h5>Feeds</h5>
      <table class="w3-table w3-striped w3-white">
        <caption>Feed of new events</caption>
        <thead> 
        <tr class="hideme">          
          <th scope="col" class="noborder"><span class="offscreen">icon</span></th>
          <th scope="col" class="noborder"><span class="offscreen">event description</span></th>
          <th scope="col" class="noborder"><span class="offscreen">timestamp when the event happened</span></th>
      </tr>
    </thead>
    <tbody>
        {% for item in feed %}
        <tr>
          {% if "Picture" in item[1] %}
          <td><em class="fa fa-picture-o w3-text-blue w3-large"></em></td>
          <td>Picture taken</td>
          {% elif "Probe" in item[1] %}
          <td><em class="fa fa-paper-plane w3-text-red w3-large"></em></td>
          <td>Probe captured</td>
          {% endif %}
          <td><em>{{item[0]}} ago</em></td>
        </tr>
      </tbody>
        {% endfor %}
      </table>
    </div>
  </div>
</div>
<hr>
<div class="w3-container">
  <h5>General Stats</h5>
  <p>Random Mac Address</p>
  <div class="w3-grey">
    <div class="w3-container w3-center w3-padding w3-green" style="width:{{(mac_random / mac_count * 100)|int}}%">{{(mac_random / mac_count * 100)|int}}%</div>
  </div>
{% endblock %}  